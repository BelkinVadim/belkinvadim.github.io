(function(e){function t(n){if(o[n])return o[n].exports;var a=o[n]={i:n,l:!1,exports:{}};return e[n].call(a.exports,a,a.exports,t),a.l=!0,a.exports}var o={};return t.m=e,t.c=o,t.d=function(e,o,n){t.o(e,o)||Object.defineProperty(e,o,{configurable:!1,enumerable:!0,get:n})},t.n=function(e){var o=e&&e.__esModule?function(){return e['default']}:function(){return e};return t.d(o,'a',o),o},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p='/',t(t.s=5)})([function(e){'use strict';function t(e,t){var n=e[1]||'',a=e[3];if(!a)return n;if(t&&'function'==typeof btoa){var i=o(a),r=a.sources.map(function(e){return'/*# sourceURL='+a.sourceRoot+e+' */'});return[n].concat(r).concat([i]).join('\n')}return[n].join('\n')}function o(e){var t=btoa(unescape(encodeURIComponent(JSON.stringify(e))));return'/*# '+('sourceMappingURL=data:application/json;charset=utf-8;base64,'+t)+' */'}e.exports=function(e){var o=[];return o.toString=function(){return this.map(function(o){var n=t(o,e);return o[2]?'@media '+o[2]+'{'+n+'}':n}).join('')},o.i=function(e,t){'string'==typeof e&&(e=[[null,e,'']]);for(var n,a={},r=0;r<this.length;r++)n=this[r][0],'number'==typeof n&&(a[n]=!0);for(r=0;r<e.length;r++){var i=e[r];'number'==typeof i[0]&&a[i[0]]||(t&&!i[2]?i[2]=t:t&&(i[2]='('+i[2]+') and ('+t+')'),o.push(i))}},o}},function(e,t,o){'use strict';function n(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,o){function n(a,i){try{var r=t[a](i),s=r.value}catch(e){return void o(e)}return r.done?void e(s):Promise.resolve(s).then(function(e){n('next',e)},function(e){n('throw',e)})}return n('next')})}}Object.defineProperty(t,'__esModule',{value:!0});var a=o(49),i=function(e){return e&&e.__esModule?e:{default:e}}(a);const r={name:'NotesDB',version:1,stores:[{name:'notes',options:{keyPath:'id',autoIncrement:!1},indexes:[{name:'id',keyPath:'id',parameters:{unique:!0}},{name:'title',keyPath:'title',parameters:{unique:!1}},{name:'text',keyPath:'text',parameters:{unique:!1}},{name:'creation_date',keyPath:'creation_date',parameters:{unique:!1}},{name:'update_date',keyPath:'update_date',parameters:{unique:!1}},{name:'delete_date',keyPath:'delete_date',parameters:{unique:!1}}]}]};t.default=new class{constructor(){this.database=null,this.notes=[]}init(){var e=this;return n(function*(){yield e.loadDataBase(),yield e.loadStore('notes')})()}loadDataBase(){return new Promise((e,t)=>{const o=window.indexedDB.open(r.name,r.version);o.onsuccess=(t)=>{this.database=t.target.result,e()},o.onupgradeneeded=(e)=>{const t=e.target.result;r.stores.forEach((o)=>{if(!t.objectStoreNames.contains(o.name)){const t=e.target.result.createObjectStore(o.name,o.options);o.indexes.forEach((e)=>{t.createIndex(e.name,e.keyPath,e.parameters)})}})},o.onerror=()=>{t(Error(o.error))}})}loadStore(e){return new Promise((t)=>{const o=this.database.transaction(e).objectStore(e);o.openCursor().onsuccess=(o)=>{const n=o.target.result;if(n){let t=n.value;this[e].push(t),n.continue()}else t()}})}saveNote(e){return new Promise((t,o)=>{e.id||(e.id=i.default.v4()),e.creation_date||(e.creation_date=Date.now()),e.update_date=Date.now();const n=this.database.transaction('notes','readwrite').objectStore('notes'),a=n.put(e);a.onsuccess=()=>{const o=this.notes.findIndex((t)=>t.id===e.id);-1===o?this.notes.push(e):this.notes.splice(o,1,e),t()},a.onerror=()=>{o(Error(a.error))}})}trashNote(e){return e.delete_date=Date.now(),this.saveNote(e)}removeNote(e){return new Promise((t,o)=>{e.id||o();const n=this.database.transaction('notes','readwrite').objectStore('notes'),a=n.delete(e.id);a.onsuccess=()=>{const o=this.notes.findIndex((t)=>t.id===e.id);this.notes.splice(o,1),t()},a.onerror=()=>{o(Error(a.error))}})}}},function(e,t,o){'use strict';var n=o(6),a=function(e){return e&&e.__esModule?e:{default:e}}(n);const i={add:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"/></svg>',arrow_back:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"/></svg>',delete:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"/></svg>',delete_forever:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zm2.46-7.12l1.41-1.41L12 12.59l2.12-2.12 1.41 1.41L13.41 14l2.12 2.12-1.41 1.41L12 15.41l-2.12 2.12-1.41-1.41L10.59 14l-2.13-2.12zM15.5 4l-1-1h-5l-1 1H5v2h14V4z"/></svg>',done:'<svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" width="24"><path d="M0 0h24v24H0z" fill="none"/><path d="M9 16.2L4.8 12l-1.4 1.4L9 19 21 7l-1.4-1.4L9 16.2z"/></svg>',history:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M13 3c-4.97 0-9 4.03-9 9H1l3.89 3.89.07.14L9 12H6c0-3.87 3.13-7 7-7s7 3.13 7 7-3.13 7-7 7c-1.93 0-3.68-.79-4.94-2.06l-1.42 1.42C8.27 19.99 10.51 21 13 21c4.97 0 9-4.03 9-9s-4.03-9-9-9zm-1 5v5l4.28 2.54.72-1.21-3.5-2.08V8H12z"/></svg>',menu:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"/></svg>',note:'<svg viewBox="0 0 24 24" width="24" height="24" xmlns="http://www.w3.org/2000/svg"><path d="M22 10l-6-6H4c-1.1 0-2 .9-2 2v12.01c0 1.1.9 1.99 2 1.99l16-.01c1.1 0 2-.89 2-1.99v-8zm-7-4.5l5.5 5.5H15V5.5z"/><path d="M0 0h24v24H0V0z" fill="none"/></svg>'};class r extends HTMLElement{static get is(){return'custom-icon'}static get template(){return`
            <style>${a.default}</style>
            <div class="content"></div>
        `}constructor(){super(),this.attachShadow({mode:'open'}),this.shadowRoot.innerHTML=this.constructor.template}connectedCallback(){}disconnectedCallback(){}attributeChangedCallback(e){'icon'===e&&this.icon&&(this.shadowRoot.querySelector('.content').innerHTML=i[this.icon])}static get observedAttributes(){return['icon']}set icon(e){this.setAttribute('icon',e)}get icon(){return this.getAttribute('icon')}}window.customElements.define(r.is,r)},function(e,t,o){'use strict';(function(t){var o,n=t.crypto||t.msCrypto;if(n&&n.getRandomValues){var a=new Uint8Array(16);o=function(){return n.getRandomValues(a),a}}if(!o){var s=Array(16);o=function(){for(var e,t=0;16>t;t++)0==(3&t)&&(e=4294967296*Math.random()),s[t]=255&e>>>((3&t)<<3);return s}}e.exports=o}).call(t,o(51))},function(e){'use strict';for(var t=[],o=0;256>o;++o)t[o]=(o+256).toString(16).substr(1);e.exports=function(e,o){var n=o||0,a=t;return a[e[n++]]+a[e[n++]]+a[e[n++]]+a[e[n++]]+'-'+a[e[n++]]+a[e[n++]]+'-'+a[e[n++]]+a[e[n++]]+'-'+a[e[n++]]+a[e[n++]]+'-'+a[e[n++]]+a[e[n++]]+a[e[n++]]+a[e[n++]]+a[e[n++]]+a[e[n++]]}},function(e,t,o){'use strict';o(2),o(8),o(11),o(14),o(17),o(20),o(61),o(64),o(23),o(26),o(29),o(32),o(35),o(38),o(41),o(44),o(47),o(48),o(53),o(59),o(54)},function(e,t,o){var n=o(7);e.exports='string'==typeof n?n:n.toString()},function(e,t,o){t=e.exports=o(0)(void 0),t.push([e.i,':host {\r\n\tposition: relative;\r\n\tdisplay: inline-block;\r\n\twidth: 24px;\r\n\theight: 24px;\r\n\tvertical-align: middle;\r\n\tfill: currentcolor;\r\n\tstroke: none;\r\n\topacity: var(--custom-icon-opacity, 1);\r\n\ttransition:\r\n\t\t\tcolor .3s ease,\r\n\t\t\topacity .3s ease;\r\n}\r\n\r\n:host([hidden]) {\r\n\tdisplay: none;\r\n}\r\n\r\nsvg {\r\n\tdisplay: block;\r\n\twidth: 100%;\r\n\theight: 100%;\r\n}',''])},function(e,t,o){'use strict';var n=o(9),a=function(e){return e&&e.__esModule?e:{default:e}}(n);class i extends HTMLElement{static get is(){return'flat-button'}static get template(){return`
            <style>${a.default}</style>
            <div class="shade"></div>
            <slot></slot>
        `}constructor(){super(),this.attachShadow({mode:'open'}),this.shadowRoot.innerHTML=this.constructor.template}connectedCallback(){}disconnectedCallback(){}attributeChangedCallback(){}static get observedAttributes(){return['pressed','disabled']}set pressed(e){!!e?this.setAttribute('pressed',''):this.removeAttribute('pressed')}get pressed(){return this.hasAttribute('pressed')}set disabled(e){!!e?this.setAttribute('disabled',''):this.removeAttribute('disabled')}get disabled(){return this.hasAttribute('disabled')}}window.customElements.define(i.is,i)},function(e,t,o){var n=o(10);e.exports='string'==typeof n?n:n.toString()},function(e,t,o){t=e.exports=o(0)(void 0),t.push([e.i,':host {\r\n\tposition: relative;\r\n\tdisplay: inline-block;\r\n\t/*min-width: 88px;*/\r\n\theight: 36px;\r\n\tpadding: 0 16px;\r\n\tfont-size: 14px;\r\n\tfont-weight: 500;\r\n\tline-height: 36px;\r\n\ttext-align: center;\r\n\ttext-transform: uppercase;\r\n\ttext-overflow: ellipsis;\r\n\twhite-space: nowrap;\r\n\toverflow: hidden;\r\n\tborder-radius: 2px;\r\n\toutline: none;\r\n\tuser-select: none;\r\n\tcursor: pointer;\r\n\ttransition:\r\n\t\t\tcolor .3s ease,\r\n\t\t\tbackground-color .3s ease,\r\n\t\t\tbox-shadow .3s ease;\r\n}\r\n\r\n:host .shade {\r\n\tposition: absolute;\r\n\ttop: 0;\r\n\tleft: 0;\r\n\tdisplay: block;\r\n\twidth: 100%;\r\n\theight: 100%;\r\n\tbackground-color: var(--button-shade-background-color, transparent);\r\n\ttransition: background-color .3s ease;\r\n\tpointer-events: none;\r\n}\r\n\r\n:host(:hover),\r\n:host(:focus) {\r\n\t--button-shade-background-color: rgba(153, 153, 153, .2);\r\n}\r\n\r\n:host(:active) {\r\n\t--button-shade-background-color: rgba(153, 153, 153, .4);\r\n}\r\n\r\n:host(.primary) {\r\n\tcolor: var(--primary-color);\r\n}\r\n\r\n:host(.accent) {\r\n\tcolor: var(--accent-color);\r\n}\r\n\r\n:host([disabled]) {\r\n\tcolor: rgba(0, 0, 0, .26);\r\n\tbackground-color: rgba(0, 0, 0, .12);\r\n\tpointer-events: none;\r\n\tcursor: auto;\r\n}',''])},function(e,t,o){'use strict';o(2);var n=o(12),a=function(e){return e&&e.__esModule?e:{default:e}}(n);class i extends HTMLElement{static get is(){return'icon-button'}static get template(){return`
            <style>${a.default}</style>
            <custom-icon></custom-icon>
        `}constructor(){super(),this.attachShadow({mode:'open'}),this.shadowRoot.innerHTML=this.constructor.template}connectedCallback(){}disconnectedCallback(){}attributeChangedCallback(e){if('icon'===e&&this.icon){const e=this.shadowRoot.querySelector('custom-icon');e.icon=this.icon}}static get observedAttributes(){return['pressed','disabled','icon']}set icon(e){this.setAttribute('icon',e)}get icon(){return this.getAttribute('icon')}set pressed(e){!!e?this.setAttribute('pressed',''):this.removeAttribute('pressed')}get pressed(){return this.hasAttribute('pressed')}set disabled(e){!!e?this.setAttribute('disabled',''):this.removeAttribute('disabled')}get disabled(){return this.hasAttribute('disabled')}}window.customElements.define(i.is,i)},function(e,t,o){var n=o(13);e.exports='string'==typeof n?n:n.toString()},function(e,t,o){t=e.exports=o(0)(void 0),t.push([e.i,':host {\r\n\tposition: relative;\r\n\tdisplay: inline-flex;\r\n\talign-items: center;\r\n\tjustify-content: center;\r\n\twidth: 40px;\r\n\theight: 40px;\r\n\tpadding: 8px;\r\n\toutline: none;\r\n\tuser-select: none;\r\n\tcursor: pointer;\r\n\tbox-sizing: border-box;\r\n\ttransition: color .3s ease;\r\n\t-webkit-tap-highlight-color: rgba(0, 0, 0, 0);\r\n\t-webkit-tap-highlight-color: transparent;\r\n\t--custom-icon-opacity: .54;\r\n}\r\n\r\n:host(:hover),\r\n:host(:focus) {\r\n\t--custom-icon-opacity: .87;\r\n}\r\n\r\n:host([disabled]) {\r\n\tpointer-events: none;\r\n\tcursor: auto;\r\n\t--custom-icon-opacity: .38;\r\n}\r\n\r\n:host([hidden]) {\r\n\tdisplay: none;\r\n}\r\n\r\ncustom-icon {\r\n\tpointer-events: none;\r\n}',''])},function(e,t,o){'use strict';var n=o(15),a=function(e){return e&&e.__esModule?e:{default:e}}(n);class i extends HTMLElement{static get is(){return'floating-button'}static get template(){return`
            <style>${a.default}</style>
            <div class="shade"></div>
            <custom-icon></custom-icon>
        `}constructor(){super(),this.attachShadow({mode:'open'}),this.shadowRoot.innerHTML=this.constructor.template}connectedCallback(){}disconnectedCallback(){}attributeChangedCallback(e){if('icon'===e&&this.icon){const e=this.shadowRoot.querySelector('custom-icon');e.icon=this.icon}}static get observedAttributes(){return['pressed','disabled','icon']}set icon(e){this.setAttribute('icon',e)}get icon(){return this.getAttribute('icon')}set pressed(e){!!e?this.setAttribute('pressed',''):this.removeAttribute('pressed')}get pressed(){return this.hasAttribute('pressed')}set disabled(e){!!e?this.setAttribute('disabled',''):this.removeAttribute('disabled')}get disabled(){return this.hasAttribute('disabled')}}window.customElements.define(i.is,i)},function(e,t,o){var n=o(16);e.exports='string'==typeof n?n:n.toString()},function(e,t,o){t=e.exports=o(0)(void 0),t.push([e.i,':host {\r\n\tposition: relative;\r\n\tdisplay: flex;\r\n\talign-items: center;\r\n\tjustify-content: center;\r\n\twidth: 56px;\r\n\theight: 56px;\r\n\tfont-size: 14px;\r\n\tfont-weight: 500;\r\n\ttext-align: center;\r\n\ttext-transform: uppercase;\r\n\ttext-overflow: ellipsis;\r\n\twhite-space: nowrap;\r\n\toverflow: hidden;\r\n\tbackground-color: #fff;\r\n\tborder-radius: 50%;\r\n\tbox-shadow: var(--shadow-elevation-6);\r\n\toutline: none;\r\n\tuser-select: none;\r\n\tcursor: pointer;\r\n\ttransition:\r\n\t\t\tcolor .3s ease,\r\n\t\t\tbackground-color .3s ease,\r\n\t\t\tbox-shadow .3s ease;\r\n}\r\n\r\n:host(:hover),\r\n:host(:focus) {}\r\n\r\n:host(:active) {\r\n\tbox-shadow: var(--shadow-elevation-12);\r\n}\r\n\r\n:host([hidden]) {\r\n\tdisplay: none;\r\n}\r\n\r\ncustom-icon {\r\n\tpointer-events: none;\r\n}\r\n\r\n:host .shade {\r\n\tposition: absolute;\r\n\ttop: 0;\r\n\tleft: 0;\r\n\tdisplay: block;\r\n\twidth: 100%;\r\n\theight: 100%;\r\n\tbackground-color: rgba(0, 0, 0, 0);\r\n\ttransition: background-color .3s ease;\r\n\tpointer-events: none;\r\n}\r\n\r\n:host(:hover) .shade,\r\n:host(:focus) .shade {\r\n\tbackground-color: rgba(0, 0, 0, .12);\r\n}\r\n\r\n:host(.small) {\r\n\twidth: 40px;\r\n\theight: 40px;\r\n}\r\n\r\n:host(.primary) {\r\n\tcolor: var(--primary-color-contrast);\r\n\tbackground-color: var(--primary-color);\r\n}\r\n\r\n:host(.accent) {\r\n\tcolor: var(--accent-color-contrast);\r\n\tbackground-color: var(--accent-color);\r\n}\r\n\r\n:host([disabled]) {\r\n\tcolor: rgba(0, 0, 0, .26);\r\n\tbackground-color: rgba(0, 0, 0, .12);\r\n\tpointer-events: none;\r\n\tcursor: auto;\r\n}',''])},function(e,t,o){'use strict';var n=o(18),a=function(e){return e&&e.__esModule?e:{default:e}}(n);class i extends HTMLElement{static get is(){return'list-item'}static get template(){return`
            <style>${a.default}</style>
            <slot></slot>
        `}constructor(){super(),this.attachShadow({mode:'open'}),this.shadowRoot.innerHTML=this.constructor.template}connectedCallback(){}disconnectedCallback(){}attributeChangedCallback(){}static get observedAttributes(){}}window.customElements.define(i.is,i)},function(e,t,o){var n=o(19);e.exports='string'==typeof n?n:n.toString()},function(e,t,o){t=e.exports=o(0)(void 0),t.push([e.i,':host {\r\n\tposition: relative;\r\n\tdisplay: grid;\r\n\talign-items: center;\r\n\talign-content: center;\r\n\tmin-height: 48px;\r\n\tpadding: 12px 16px;\r\n\tfont-size: 16px;\r\n\tline-height: 20px;\r\n\tcolor: var(--primary-text-color);\r\n\tbox-sizing: border-box;\r\n}\r\n\r\n::slotted(.primary-text),\r\n::slotted(.secondary-text) {\r\n\ttext-overflow: ellipsis;\r\n\twhite-space: nowrap;\r\n\toverflow: hidden;\r\n}\r\n\r\n::slotted(.primary-text) {}\r\n\r\n::slotted(.secondary-text) {\r\n\tfont-size: 14px;\r\n\tcolor: var(--secondary-text-color);\r\n}\r\n\r\n::slotted(.info-text) {\r\n\tfont-size: 14px;\r\n\tcolor: var(--secondary-text-color);\r\n}\r\n\r\n\r\n\r\n:host(.note) {\r\n\tmin-height: 56px;\r\n\ttransition: background-color .3s ease;\r\n\tuser-select: none;\r\n\toutline: none;\r\n\tcursor: pointer;\r\n}\r\n\r\n:host(.note:hover),\r\n:host(.note:focus) {\r\n\tbackground-color: #f5f5f5;\r\n}\r\n\r\n:host(.note:not(:last-child)) {\r\n\tborder-bottom: 1px solid var(--divider-color);\r\n}\r\n\r\n:host(.note) ::slotted(.secondary-text) {\r\n\theight: 20px;\r\n\tcolor: inherit;\r\n}',''])},function(e,t,o){'use strict';var n=o(21),a=function(e){return e&&e.__esModule?e:{default:e}}(n);class i extends HTMLElement{static get is(){return'list-box'}static get template(){return`
            <style>${a.default}</style>
            <slot></slot>
        `}constructor(){super(),this.attachShadow({mode:'open'}),this.shadowRoot.innerHTML=this.constructor.template}connectedCallback(){}disconnectedCallback(){}attributeChangedCallback(){}static get observedAttributes(){}}window.customElements.define(i.is,i)},function(e,t,o){var n=o(22);e.exports='string'==typeof n?n:n.toString()},function(e,t,o){t=e.exports=o(0)(void 0),t.push([e.i,':host {\r\n\tposition: relative;\r\n\tdisplay: block;\r\n\tpadding-top: 8px;\r\n\tpadding-bottom: 8px;\r\n}\r\n\r\n::slotted(.heading) {\r\n\tmargin: 0;\r\n\tpadding: 0 16px;\r\n\tline-height: 48px;\r\n\tfont-weight: 500;\r\n\ttext-overflow: ellipsis;\r\n\twhite-space: nowrap;\r\n\toverflow: hidden;\r\n\tcolor: var(--secondary-text-color);\r\n}',''])},function(e,t,o){'use strict';function n(e){const t=new Date,o=new Date(e),n=t.getFullYear()===o.getFullYear(),a=t.getMonth()===o.getMonth(),i=t.getDate()===o.getDate();let r,s='toLocaleDateString';return i&&a&&n?(s='toLocaleTimeString',r={hour:'numeric',minute:'numeric'}):n?r={day:'numeric',month:'short'}:r={year:'numeric',day:'numeric',month:'short'},o[s]('ru',r)}var a=o(24),i=function(e){return e&&e.__esModule?e:{default:e}}(a);class r extends HTMLElement{static get is(){return'notes-list'}static get template(){return`
            <style>${i.default}</style>
            <list-box></list-box>
        `}constructor(){super(),this._notes=[],this.attachShadow({mode:'open'}),this.shadowRoot.innerHTML=this.constructor.template}connectedCallback(){}disconnectedCallback(){}attributeChangedCallback(){}static get observedAttributes(){}get notes(){return this._notes}set notes(e){this._notes=e,this.render()}render(){const{notes:e}=this,t=document.createDocumentFragment();e.sort((e,t)=>t.update_date-e.update_date).forEach((e)=>{const o=this.createNoteItem(e);t.append(o)}),this.shadowRoot.querySelector('list-box').innerHTML='',this.shadowRoot.querySelector('list-box').append(t)}createNoteItem(e){const{id:t,title:o,text:a,update_date:i}=e,r=document.createElement('list-item');return r.classList.add('note'),r.setAttribute('tabindex',0),r.innerHTML=`
            <div class="primary-text">
                ${o}
            </div>
            <div class="secondary-text">
                ${a}
            </div>
            <div class="info-text">
                Изменено: ${n(i)}
            </div>
        `,r.addEventListener('click',()=>{router.navigate(`/note/${t}`)}),r}}window.customElements.define(r.is,r)},function(e,t,o){var n=o(25);e.exports='string'==typeof n?n:n.toString()},function(e,t,o){t=e.exports=o(0)(void 0),t.push([e.i,':host {\r\n\tposition: relative;\r\n\tdisplay: block;\r\n}',''])},function(e,t,o){'use strict';var n=o(27),a=function(e){return e&&e.__esModule?e:{default:e}}(n);class i extends HTMLElement{static get is(){return'note-editor'}static get template(){return`
            <style>${a.default}</style>
            <div class="title" placeholder="Заголовок"></div>
            <div class="text" placeholder="Текст"></div>
        `}constructor(){super(),this.attachShadow({mode:'open'}),this.shadowRoot.innerHTML=this.constructor.template,this.handlePaste=this.handlePaste.bind(this)}connectedCallback(){}disconnectedCallback(){}attributeChangedCallback(){this.shadowRoot.querySelector('.title').setAttribute('contenteditable',this.editable),this.shadowRoot.querySelector('.text').setAttribute('contenteditable',this.editable)}static get observedAttributes(){return['editable']}get editable(){return this.hasAttribute('editable')}set editable(e){!!e?this.setAttribute('editable',''):this.removeAttribute('editable')}get noteTitle(){return this.shadowRoot.querySelector('.title').innerHTML}set noteTitle(e){this.shadowRoot.querySelector('.title').innerHTML=e}get noteText(){return this.shadowRoot.querySelector('.text').innerHTML}set noteText(e){this.shadowRoot.querySelector('.text').innerHTML=e}handlePaste(e){e.preventDefault(),document.execCommand('insertText',!1,e.clipboardData.getData('text/plain'))}}window.customElements.define(i.is,i)},function(e,t,o){var n=o(28);e.exports='string'==typeof n?n:n.toString()},function(e,t,o){t=e.exports=o(0)(void 0),t.push([e.i,':host {\r\n\tposition: relative;\r\n\tdisplay: grid;\r\n\tgrid-template-areas:\r\n\t\t\t"title"\r\n\t\t\t"text";\r\n\tgrid-template-rows: auto 1fr;\r\n\tmin-height: 100%;\r\n\tfont-size: 14px;\r\n\tline-height: 24px;\r\n\tcolor: var(--primary-text-color);\r\n\toutline: none;\r\n}\r\n\r\n.title,\r\n.text {\r\n\tposition: relative;\r\n\tdisplay: block;\r\n\tpadding: 16px 16px 0;\r\n}\r\n\r\n.title:last-child,\r\n.text:last-child {\r\n\tpadding-bottom: 16px;\r\n}\r\n\r\n.title:empty[placeholder]::before,\r\n.text:empty[placeholder]::before {\r\n\tcontent: attr(placeholder);\r\n\tcolor: var(--secondary-text-color);\r\n\tpointer-events: none;\r\n}\r\n\r\n.title {\r\n\tgrid-area: title;\r\n\tfont-size: 24px;\r\n\tline-height: 32px;\r\n\toutline: none;\r\n}\r\n\r\n.text {\r\n\tgrid-area: text;\r\n\toutline: none;\r\n}',''])},function(e,t,o){'use strict';var n=o(30),a=function(e){return e&&e.__esModule?e:{default:e}}(n);class i extends HTMLElement{static get is(){return'app-toolbar'}static get template(){return`
            <style>${a.default}</style>
            <slot></slot>
        `}constructor(){super(),this.attachShadow({mode:'open'}),this.shadowRoot.innerHTML=this.constructor.template}connectedCallback(){}disconnectedCallback(){}attributeChangedCallback(){}static get observedAttributes(){}}window.customElements.define(i.is,i)},function(e,t,o){var n=o(31);e.exports='string'==typeof n?n:n.toString()},function(e,t,o){t=e.exports=o(0)(void 0),t.push([e.i,':host {\r\n\tposition: relative;\r\n\tdisplay: flex;\r\n\talign-items: center;\r\n\theight: 56px;\r\n\tpadding: 0 8px;\r\n\tfont-size: 20px;\r\n\tpointer-events: none;\r\n}\r\n\r\n:host > ::slotted(*:not([disabled])) {\r\n\tpointer-events: auto;\r\n}\r\n\r\n:host > ::slotted(.title) {\r\n\tflex: 1 1 auto;\r\n\tmargin-left: 24px;\r\n\ttext-overflow: ellipsis;\r\n\twhite-space: nowrap;\r\n\toverflow: hidden;\r\n\tpointer-events: none;\r\n}\r\n\r\n:host > ::slotted(.title:first-child) {\r\n\tmargin-left: 16px;\r\n}\r\n\r\n:host ::slotted(icon-button) {\r\n\t--custom-icon-opacity: .7;\r\n}\r\n\r\n:host ::slotted(icon-button:focus),\r\n:host ::slotted(icon-button:active) {\r\n\t--custom-icon-opacity: 1;\r\n}\r\n\r\n:host ::slotted(icon-button[disabled]) {\r\n\t--custom-icon-opacity: .5;\r\n}\r\n\r\n:host(.primary) {\r\n\tcolor: var(--primary-color-contrast);\r\n\tbackground-color: var(--primary-color);\r\n}\r\n\r\n:host(.accent) {\r\n\tcolor: var(--accent-color-contrast);\r\n\tbackground-color: var(--accent-color);\r\n}\r\n\r\n/* Tablet */\r\n@media (min-width: 768px) {\r\n\t:host {\r\n\t\theight: 64px;\r\n\t\tpadding: 0 16px;\r\n\t}\r\n}',''])},function(e,t,o){'use strict';var n=o(33),a=function(e){return e&&e.__esModule?e:{default:e}}(n);class i extends HTMLElement{static get is(){return'app-drawer'}static get template(){return`
            <style>${a.default}</style>
            <div class="backdrop"></div>
            <div class="content">
                <slot></slot>
            </div>
        `}constructor(){super(),this.attachShadow({mode:'open'}),this.shadowRoot.innerHTML=this.constructor.template,this._touchStartX=null,this._touchStartY=null,this._touchEndX=null,this._touchEndY=null,this._isScrollEvent=null,this._isSlideEvent=null,this._slideDirection=null,this.elements={backdrop:this.shadowRoot.querySelector('.backdrop'),content:this.shadowRoot.querySelector('.content')},this.handleKeyDown=this.handleKeyDown.bind(this),this.handleClick=this.handleClick.bind(this),this.handleTouchStart=this.handleTouchStart.bind(this),this.handleTouchMove=this.handleTouchMove.bind(this),this.handleTouchEnd=this.handleTouchEnd.bind(this)}connectedCallback(){this.addEventListener('touchstart',this.handleTouchStart,!1),this.elements.backdrop.addEventListener('click',this.handleClick),document.addEventListener('keydown',this.handleKeyDown)}disconnectedCallback(){this.removeEventListener('touchstart',this.handleTouchStart),this.elements.backdrop.removeEventListener('click',this.handleClick),document.removeEventListener('keydown',this.handleKeyDown)}attributeChangedCallback(){}static get observedAttributes(){return['open']}set open(e){!!e?this.setAttribute('open',''):this.removeAttribute('open')}get open(){return this.hasAttribute('open')}handleKeyDown(e){27===e.which&&(this.open=!1)}handleClick(){this.open=!1}handleTouchStart(e){const{pageX:t,pageY:o}=e.touches[0];this._touchStartX=t,this._touchStartY=o,this.addEventListener('touchmove',this.handleTouchMove,!1),this.addEventListener('touchend',this.handleTouchEnd)}handleTouchMove(e){var t=Math.min,o=Math.abs;const{content:n,backdrop:a}=this.elements,{pageX:i,pageY:r}=e.touches[0];if(this._slideDirection=i>this._touchEndX?'right':'left',this._touchEndX=i,this._touchEndY=r,!this._isScrollEvent&&!this._isSlideEvent){const e=o(this._touchEndY-this._touchStartY),t=o(this._touchEndX-this._touchStartX);this._isScrollEvent=e>=t,this._isSlideEvent=!this._isScrollEvent}if(this._isSlideEvent){const o=n.getBoundingClientRect().width,i=this._touchEndX-this._touchStartX;a.style.transition='none',a.style.opacity=t(1,Math.max(0,1- -1*i/o)),n.style.transition='none',n.style.transform=`translateX(${t(0,i)}px)`,e.preventDefault()}}handleTouchEnd(){const{content:e,backdrop:t}=this.elements;t.style.transition='',t.style.opacity='',e.style.transition='',e.style.transform='','left'===this._slideDirection&&this._isSlideEvent&&(this.open=!1),this._isSlideEvent=null,this._isScrollEvent=null,this._slideDirection=null,this.removeEventListener('touchmove',this.handleTouchMove),this.removeEventListener('touchend',this.handleTouchEnd)}}window.customElements.define(i.is,i)},function(e,t,o){var n=o(34);e.exports='string'==typeof n?n:n.toString()},function(e,t,o){t=e.exports=o(0)(void 0),t.push([e.i,':host {\r\n    position: fixed;\r\n    top: 0;\r\n    left: 0;\r\n    display: block;\r\n    width: 100%;\r\n    height: 100%;\r\n    z-index: 160;\r\n    box-sizing: border-box;\r\n}\r\n\r\n:host(:not([open])) {\r\n    pointer-events: none;\r\n}\r\n\r\n:host .backdrop {\r\n    position: fixed;\r\n    display: block;\r\n    top: 0;\r\n    left: 0;\r\n    width: 100%;\r\n    height: 100%;\r\n    background-color: rgba(0, 0, 0, .7);\r\n    opacity: 1;\r\n    z-index: 1;\r\n    cursor: pointer;\r\n    transition: opacity .3s ease;\r\n}\r\n\r\n:host(:not([open])) .backdrop {\r\n    opacity: 0;\r\n}\r\n\r\n:host .content {\r\n    position: fixed;\r\n    top: 0;\r\n    left: 0;\r\n    right: 56px;\r\n    display: block;\r\n    max-width: 280px;\r\n    height: 100%;\r\n    background-color: #fff;\r\n    box-shadow: var(--shadow-elevation-16);\r\n    overflow: auto;\r\n    z-index: 2;\r\n    transition:\r\n            box-shadow .3s ease .1s,\r\n            transform .3s ease;\r\n    will-change: transform;\r\n}\r\n\r\n:host(:not([open])) .content {\r\n    box-shadow: none;\r\n    transform: translateX(-100%);\r\n}\r\n\r\n::slotted(.header) {\r\n    position: relative;\r\n    display: block;\r\n    height: 172px;\r\n    color: var(--primary-color-contrast);\r\n    background-color: var(--primary-color);\r\n    border-bottom: 1px solid var(--divider-color);\r\n}\r\n\r\n/* Tablet */\r\n@media (min-width: 768px) {\r\n    :host .content {\r\n        max-width: 320px;\r\n    }\r\n}',''])},function(e,t,o){'use strict';var n=o(36),a=function(e){return e&&e.__esModule?e:{default:e}}(n);class i extends HTMLElement{static get is(){return'app-dialog'}static get template(){return`
            <style>${a.default}</style>
            <div class="backdrop"></div>
			<div class="dialog">
				<header>
				    <slot name="header"></slot>
				</header>
				<div class="content">
				    <slot></slot>
                </div>
				<footer>
				    <slot name="footer"></slot>
				</footer>
			</div>
        `}constructor(){super(),this.attachShadow({mode:'open'}),this.handleClose=this.handleClose.bind(this),this.shadowRoot.innerHTML=this.constructor.template,this.shadowRoot.querySelector('.backdrop').addEventListener('click',this.handleClose)}connectedCallback(){}disconnectedCallback(){}attributeChangedCallback(){}static get observedAttributes(){return['open']}set open(e){!!e?this.setAttribute('open',''):this.removeAttribute('open')}get open(){return this.hasAttribute('open')}handleClose(){this.open=!1}}window.customElements.define(i.is,i)},function(e,t,o){var n=o(37);e.exports='string'==typeof n?n:n.toString()},function(e,t,o){t=e.exports=o(0)(void 0),t.push([e.i,':host {\r\n    position: fixed;\r\n    top: 0;\r\n    left: 0;\r\n    display: grid;\r\n    grid-template-rows: minmax(100px, max-content);\r\n    align-items: center;\r\n    align-content: center;\r\n    justify-items: center;\r\n    width: 100%;\r\n    height: 100%;\r\n    padding: 16px;\r\n    z-index: 240;\r\n    opacity: 1;\r\n    transition: opacity .3s ease;\r\n    will-change: opacity;\r\n    box-sizing: border-box;\r\n    overflow: hidden;\r\n}\r\n\r\n:host(:not([open])) {\r\n    opacity: 0;\r\n    pointer-events: none;\r\n}\r\n\r\n.backdrop {\r\n    position: fixed;\r\n    display: block;\r\n    top: 0;\r\n    left: 0;\r\n    width: 100%;\r\n    height: 100%;\r\n    background-color: rgba(0, 0, 0, .5);\r\n    opacity: 1;\r\n    cursor: pointer;\r\n    transition: opacity .3s ease;\r\n    will-change: opacity;\r\n    z-index: 1;\r\n}\r\n\r\n.dialog {\r\n    position: relative;\r\n    display: grid;\r\n    grid-template-rows: auto 1fr auto;\r\n    width: 100%;\r\n    max-width: 500px;\r\n    max-height: 100%;\r\n    background-color: var(--primary-background-color);\r\n    border-radius: 2px;\r\n    box-shadow: var(--shadow-elevation-24);\r\n    z-index: 2;\r\n    transform: translateY(0);\r\n    transition: transform .3s ease;\r\n    will-change: transform;\r\n}\r\n\r\n:host(:not([open])) .dialog {\r\n    transform: translateY(50px);\r\n}\r\n\r\nheader {\r\n    margin-top: 24px;\r\n    padding-left: 24px;\r\n    padding-right: 24px;\r\n}\r\n\r\nheader ::slotted(.title) {\r\n    position: relative;\r\n    margin: 0;\r\n    font-size: 20px;\r\n    font-weight: 500;\r\n    line-height: 28px;\r\n}\r\n\r\n.content {\r\n    margin-top: 20px;\r\n    padding-left: 24px;\r\n    padding-right: 24px;\r\n    overflow: auto;\r\n}\r\n\r\nfooter {\r\n    margin-top: 8px;\r\n    margin-bottom: 8px;\r\n    padding-left: 8px;\r\n    padding-right: 8px;\r\n}\r\n\r\nfooter ::slotted(.buttons) {\r\n    display: flex;\r\n    flex-wrap: wrap;\r\n    align-items: center;\r\n    justify-content: flex-end;\r\n}\r\n\r\n/*::slotted(*) {\r\n    margin-top: 20px;\r\n    padding-left: 24px;\r\n    padding-right: 24px;\r\n}\r\n\r\n::slotted(*:first-child) {\r\n    margin-top: 24px;\r\n}\r\n\r\n::slotted(*:last-child) {\r\n    margin-bottom: 24px;\r\n}*/\r\n',''])},function(e,t,o){'use strict';var n=o(39),a=function(e){return e&&e.__esModule?e:{default:e}}(n);class i extends HTMLElement{static get is(){return'app-header'}static get template(){return`
            <style>${a.default}</style>
            <slot></slot>
        `}constructor(){super(),this.attachShadow({mode:'open'}),this.shadowRoot.innerHTML=this.constructor.template}connectedCallback(){}disconnectedCallback(){}attributeChangedCallback(){}static get observedAttributes(){}}window.customElements.define(i.is,i)},function(e,t,o){var n=o(40);e.exports='string'==typeof n?n:n.toString()},function(e,t,o){t=e.exports=o(0)(void 0),t.push([e.i,':host {\r\n    position: relative;\r\n    display: block;\r\n    box-shadow: var(--shadow-elevation-4);\r\n    z-index: 4;\r\n}',''])},function(e,t,o){'use strict';var n=o(42),a=function(e){return e&&e.__esModule?e:{default:e}}(n);class i extends HTMLElement{static get is(){return'app-loader'}static get template(){return`
            <style>${a.default}</style>
            <div class="loader">
                <svg height="100" width="100" viewbox="0 0 100 100">
                    <circle cx="50" cy="50" r="20" fill="none" stroke-width="4" stroke-miterlimit="10"/>
                </svg>
            </div>
        `}constructor(){super(),this.attachShadow({mode:'open'}),this.shadowRoot.innerHTML=this.constructor.template}connectedCallback(){}disconnectedCallback(){}attributeChangedCallback(){}static get observedAttributes(){}}window.customElements.define(i.is,i)},function(e,t,o){var n=o(43);e.exports='string'==typeof n?n:n.toString()},function(e,t,o){t=e.exports=o(0)(void 0),t.push([e.i,':host {\r\n    position: fixed;\r\n    top: 0;\r\n    left: 0;\r\n    display: block;\r\n    width: 100%;\r\n    height: 100%;\r\n    background-color: var(--primary-color);\r\n    opacity: 1;\r\n    transition: opacity .3s ease;\r\n    z-index: 9999;\r\n}\r\n\r\n:host([hidden]) {\r\n    opacity: 0;\r\n}\r\n\r\n.loader {\r\n    position: absolute;\r\n    top: calc(50% - .5em);\r\n    left: calc(50% - .5em);\r\n    width: 1em;\r\n    height: 1em;\r\n    font-size: 125px;\r\n}\r\n\r\n:host([hidden]) .loader {\r\n    display: none;\r\n}\r\n\r\nsvg {\r\n    position: relative;\r\n    display: block;\r\n    width: 100%;\r\n    height: 100%;\r\n    animation: rotate 2s linear infinite;\r\n}\r\n\r\ncircle {\r\n    stroke: #fff;\r\n    stroke-dasharray: 1,200;\r\n    stroke-dashoffset: 0;\r\n    stroke-linecap: round;\r\n    animation: dash 1.5s ease-in-out infinite;\r\n}\r\n\r\n@keyframes rotate {\r\n    100%{\r\n        transform: rotate(360deg);\r\n    }\r\n}\r\n\r\n@keyframes dash {\r\n    0%{\r\n        stroke-dasharray: 1,200;\r\n        stroke-dashoffset: 0;\r\n    }\r\n    50%{\r\n        stroke-dasharray: 89,200;\r\n        stroke-dashoffset: -35;\r\n    }\r\n    100%{\r\n        stroke-dasharray: 89,200;\r\n        stroke-dashoffset: -124;\r\n    }\r\n}',''])},function(e,t,o){'use strict';var n=o(45),a=function(e){return e&&e.__esModule?e:{default:e}}(n);class i extends HTMLElement{static get is(){return'app-screen'}static get template(){return`
            <style>${a.default}</style>
            <div class="header">
	            <slot name="header"></slot>
            </div>
	        <div class="body">
                <div class="content">
                    <slot></slot>
                </div>
            </div>
        `}constructor(){super(),this.attachShadow({mode:'open'}),this.shadowRoot.innerHTML=this.constructor.template}connectedCallback(){}disconnectedCallback(){}attributeChangedCallback(){}static get observedAttributes(){}}window.customElements.define(i.is,i)},function(e,t,o){var n=o(46);e.exports='string'==typeof n?n:n.toString()},function(e,t,o){t=e.exports=o(0)(void 0),t.push([e.i,':host {\r\n\tposition: fixed;\r\n\ttop: 0;\r\n\tleft: 0;\r\n\tdisplay: flex;\r\n\tflex-direction: column;\r\n\talign-items: stretch;\r\n\tjustify-content: flex-start;\r\n\twidth: 100%;\r\n\theight: 100%;\r\n}\r\n\r\n.header {}\r\n\r\n.body {\r\n\tposition: relative;\r\n\tflex: 1 1 auto;\r\n}\r\n\r\n.content {\r\n\tposition: absolute;\r\n\ttop: 0;\r\n\tleft: 0;\r\n\tright: 0;\r\n\twidth: 100%;\r\n\theight: 100%;\r\n\t/*padding-left: calc((100% - 768px) / 2);\r\n\tpadding-right: calc((100% - 768px) / 2);*/\r\n\toverflow: auto;\r\n\tbox-sizing: border-box;\r\n}\r\n\r\n::slotted(floating-button) {\r\n\tposition: fixed;\r\n\tbottom: 24px;\r\n\tright: 16px;\r\n\t/*left: calc(50% + var(--screen-content-width) / 2 - var(--right-offset));\r\n\ttransform: translateX(-100%);\r\n\t--screen-content-width: 100%;\r\n\t--right-offset: 16px;*/\r\n}\r\n\r\n/* Tablet */\r\n/*@media (min-width: 768px) {\r\n\t::slotted(floating-button) {\r\n\t\t--screen-content-width: var(--container-width-tablet);\r\n\t}\r\n}*/\r\n\r\n/* Desktop small */\r\n/*@media (min-width: 992px) {\r\n\t::slotted(floating-button) {\r\n\t\tbottom: 32px;\r\n\t\t--screen-content-width: var(--container-width-desktop-sm);\r\n\t\t--right-offset: 24px;\r\n\t}\r\n}*/\r\n',''])},function(e,t,o){'use strict';var n=o(60),a=function(e){return e&&e.__esModule?e:{default:e}}(n);class i extends HTMLElement{static get is(){return'app-router'}constructor(){super(),this.attachShadow({mode:'open'}),window.router=new a.default(null,!0,'#!')}connectedCallback(){}disconnectedCallback(){}attributeChangedCallback(){}static get observedAttributes(){}navigate(e,t){const o=new CustomEvent('navigate',{detail:{page:e,parameters:t}});this.dispatchEvent(o)}}window.customElements.define(i.is,i)},function(e,t,o){'use strict';function n(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,o){function n(a,i){try{var r=t[a](i),s=r.value}catch(e){return void o(e)}return r.done?void e(s):Promise.resolve(s).then(function(e){n('next',e)},function(e){n('throw',e)})}return n('next')})}}var a=o(1),i=function(e){return e&&e.__esModule?e:{default:e}}(a);class r extends HTMLElement{static get is(){return'screen-note'}static get template(){return`
            <app-screen>
                <app-header slot="header">
                    <app-toolbar class="primary">
                        <icon-button class="js-back" icon="arrow_back" tabindex="0" role="button" aria-label="К списку заметок"></icon-button>
                        <div class="title"></div>
                        <icon-button class="js-remove" icon="delete" tabindex="0" role="button" aria-label="Удалить заметку"></icon-button>
                        <icon-button class="js-recover" icon="history" tabindex="0" role="button" aria-label="Восстановить"></icon-button>
                        <icon-button class="js-save" icon="done" tabindex="0" role="button" aria-label="Сохранить изменения"></icon-button>
                    </app-toolbar>
                </app-header>
                <note-editor></note-editor>
                <app-dialog>
                    <div class="title" slot="header">Заголовок</div>
                    <div>Контент</div>
                    <div class="buttons" slot="footer">
                        <flat-button>Кнопка 1</flat-button>
                        <flat-button>Кнопка 2</flat-button>
                    </div>
                </app-dialog>
            </app-screen>
        `}static get observedAttributes(){return['data-id']}get note(){return i.default.notes.find((e)=>e.id===this.dataset.id)}constructor(){super(),this.attachShadow({mode:'open'}),this.shadowRoot.innerHTML=this.constructor.template,this.handleSave=this.handleSave.bind(this),this.handleRemove=this.handleRemove.bind(this),this.handleRecover=this.handleRecover.bind(this),this.handleBack=this.handleBack.bind(this)}connectedCallback(){this.shadowRoot.querySelector('.js-save').addEventListener('click',this.handleSave),this.shadowRoot.querySelector('.js-remove').addEventListener('click',this.handleRemove),this.shadowRoot.querySelector('.js-recover').addEventListener('click',this.handleRecover),this.shadowRoot.querySelector('.js-back').addEventListener('click',this.handleBack),this.render()}disconnectedCallback(){}attributeChangedCallback(){this.render()}render(){const{note:e}=this,t=this.shadowRoot.querySelector('.title'),o=this.shadowRoot.querySelector('.js-remove'),n=this.shadowRoot.querySelector('.js-recover'),a=this.shadowRoot.querySelector('.js-save'),i=this.shadowRoot.querySelector('note-editor'),r=e&&e.delete_date;t.innerHTML=e?'\u0420\u0435\u0434\u0430\u043A\u0442\u0438\u0440\u043E\u0432\u0430\u0442\u044C':'\u0421\u043E\u0437\u0434\u0430\u0442\u044C',o.hidden=!e,o.icon=r?'delete_forever':'delete',o.setAttribute('aria-hidden',!e),n.hidden=!r,a.hidden=r,e&&(i.noteTitle=e.title,i.noteText=e.text),i.editable=!r}handleSave(){var e=this;return n(function*(){const t=e.note||{},o=e.shadowRoot.querySelector('note-editor'),n=o.noteTitle,a=o.noteText;n||a?(t.title=n,t.text=a,yield i.default.saveNote(t)):t.id&&(yield i.default.removeNote(t)),e.handleBack()})()}handleRemove(){var e=this;return n(function*(){const{note:t}=e;t&&(t.delete_date?yield i.default.removeNote(t):yield i.default.trashNote(t)),e.handleBack()})()}handleRecover(){var e=this;return n(function*(){const{note:t}=e;t&&(delete t.delete_date,yield i.default.saveNote(t)),e.handleBack()})()}handleBack(){history.back()}}window.customElements.define(r.is,r)},function(e,t,o){'use strict';var n=o(50),a=o(52),i=a;i.v1=n,i.v4=a,e.exports=i},function(e,t,o){'use strict';var n=o(3),a=o(4),i=n(),r=[1|i[0],i[1],i[2],i[3],i[4],i[5]],s=16383&(i[6]<<8|i[7]),d=0,l=0;e.exports=function(e,t,o){var c=t&&o||0,i=t||[];e=e||{};var h=void 0===e.clockseq?s:e.clockseq,u=void 0===e.msecs?new Date().getTime():e.msecs,p=void 0===e.nsecs?l+1:e.nsecs,g=u-d+(p-l)/1e4;if(0>g&&void 0===e.clockseq&&(h=16383&h+1),(0>g||u>d)&&void 0===e.nsecs&&(p=0),1e4<=p)throw new Error('uuid.v1(): Can\'t create more than 10M uuids/sec');d=u,l=p,s=h,u+=1.22192928e13;var f=(1e4*(268435455&u)+p)%4294967296;i[c++]=255&f>>>24,i[c++]=255&f>>>16,i[c++]=255&f>>>8,i[c++]=255&f;var m=268435455&1e4*(u/4294967296);i[c++]=255&m>>>8,i[c++]=255&m,i[c++]=16|15&m>>>24,i[c++]=255&m>>>16,i[c++]=128|h>>>8,i[c++]=255&h;for(var v=e.node||r,x=0;6>x;++x)i[c+x]=v[x];return t?t:a(i)}},function(e){'use strict';var t=function(){return this}();try{t=t||Function('return this')()||(1,eval)('this')}catch(o){'object'==typeof window&&(t=window)}e.exports=t},function(e,t,o){'use strict';var n=o(3),a=o(4);e.exports=function(e,t,o){var r=t&&o||0;'string'==typeof e&&(t='binary'==e?Array(16):null,e=null),e=e||{};var i=e.random||(e.rng||n)();if(i[6]=64|15&i[6],i[8]=128|63&i[8],t)for(var s=0;16>s;++s)t[r+s]=i[s];return t||a(i)}},function(e,t,o){'use strict';var n=o(1),a=function(e){return e&&e.__esModule?e:{default:e}}(n);class i extends HTMLElement{static get is(){return'screen-notes'}static get template(){return`
            <app-screen>
                <app-header slot="header">
                    <app-toolbar class="primary">
                        <icon-button class="js-menu" icon="menu" tabindex="0" role="button" aria-label="Меню"></icon-button>
                        <div class="title">Заметки</div>
                    </app-toolbar>
                </app-header>
                <app-drawer>
                    <menu-list>
                        <menu-item class="js-notes" icon="note" tabindex="0" role="button">Заметки</menu-item>
                        <menu-item class="js-trash" icon="delete" tabindex="0" role="button">Корзина</menu-item>
                    </menu-list>
                </app-drawer>
                <notes-list></notes-list>
                <floating-button class="accent js-create" icon="add" tabindex="0" role="button" aria-label="Создать заметку"></floating-button>
            </app-screen>
        `}constructor(){super(),this.attachShadow({mode:'open'}),this.shadowRoot.innerHTML=this.constructor.template,this.handleClickButtonMenu=this.handleClickButtonMenu.bind(this),this.handleClickButtonNotes=this.handleClickButtonNotes.bind(this),this.handleClickButtonTrash=this.handleClickButtonTrash.bind(this),this.handleClickButtonCreate=this.handleClickButtonCreate.bind(this)}connectedCallback(){this.shadowRoot.querySelector('.js-menu').addEventListener('click',this.handleClickButtonMenu),this.shadowRoot.querySelector('.js-notes').addEventListener('click',this.handleClickButtonNotes),this.shadowRoot.querySelector('.js-trash').addEventListener('click',this.handleClickButtonTrash),this.shadowRoot.querySelector('.js-create').addEventListener('click',this.handleClickButtonCreate),this.render()}disconnectedCallback(){}render(){this.shadowRoot.querySelector('notes-list').notes=a.default.notes.filter((e)=>!e.delete_date)}handleClickButtonMenu(){this.shadowRoot.querySelector('app-drawer').open=!0}handleClickButtonNotes(){this.shadowRoot.querySelector('app-drawer').open=!1,router.navigate()}handleClickButtonTrash(){this.shadowRoot.querySelector('app-drawer').open=!1,router.navigate('/trash')}handleClickButtonCreate(){router.navigate('/note')}}window.customElements.define(i.is,i)},function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}var a=o(1),i=n(a),r=o(55),s=n(r);class d extends HTMLElement{static get is(){return'app-main'}static get template(){return`
            <style>${s.default}</style>
            <app-router></app-router>
            <slot></slot>
        `}static get observedAttributes(){return['page','note']}get page(){return this.getAttribute('page')}set page(e){this.setAttribute('page',e)}get note(){return this.getAttribute('note')}set note(e){this.setAttribute('note',e)}constructor(){super(),this.attachShadow({mode:'open'}),this.shadowRoot.innerHTML=this.constructor.template,this.handleRouter=this.handleRouter.bind(this),router.on('/note',()=>{this.navigate('note')}).on('/note/:id',(e)=>{this.navigate('note',e)}).on('/trash',(e)=>{this.navigate('trash',e)}).on('*',()=>{this.navigate('notes')}).resolve()}connectedCallback(){const e=+new Date,t=document.createElement('app-loader');document.body.append(t),i.default.init().then(()=>{const o=+new Date,n=o-e;this.render(),setTimeout(()=>{t.hidden=!0,t.addEventListener('transitionend',()=>{t.remove()},!1)},1e3>n?1e3-n:0)})}disconnectedCallback(){}attributeChangedCallback(){this.render()}render(){this.navigate()}navigate(e,t){let o,n='';for(const o in t)n+=`data-${o}="${t[o]}"`;switch(e){case'note':o=`<screen-note ${n}></screen-note>`;break;case'trash':o=`<screen-trash ${n}></screen-trash>`;break;default:o=`<screen-notes ${n}></screen-notes>`;}this.innerHTML=o}handleRouter(e){const{page:t,parameters:o}=e.detail;this.navigate(t,o)}}window.customElements.define(d.is,d)},function(e,t,o){var n=o(56);e.exports='string'==typeof n?n:n.toString()},function(e,t,o){t=e.exports=o(0)(void 0),t.push([e.i,':host {\r\n\tposition: relative;\r\n\tdisplay: block;\r\n\twidth: 100%;\r\n\theight: 100%;\r\n}',''])},,,function(e,t,o){'use strict';var n=o(1),a=function(e){return e&&e.__esModule?e:{default:e}}(n);class i extends HTMLElement{static get is(){return'screen-trash'}static get template(){return`
            <app-screen>
                <app-header slot="header">
                    <app-toolbar class="primary">
                        <icon-button class="js-back" icon="arrow_back" tabindex="0" role="button" aria-label="К списку заметок"></icon-button>
                        <div class="title">Корзина</div>
                    </app-toolbar>
                </app-header>
                <notes-list></notes-list>
            </app-screen>
        `}constructor(){super(),this.attachShadow({mode:'open'}),this.shadowRoot.innerHTML=this.constructor.template,this.handleBack=this.handleBack.bind(this)}connectedCallback(){this.shadowRoot.querySelector('.js-back').addEventListener('click',this.handleBack),this.render()}disconnectedCallback(){}attributeChangedCallback(){}static get observedAttributes(){}render(){this.shadowRoot.querySelector('notes-list').notes=a.default.notes.filter((e)=>e.delete_date)}handleBack(){history.back()}}window.customElements.define(i.is,i)},function(e,t){'use strict';(function(t,o){e.exports=o()})(void 0,function(){return function(e){function t(n){if(o[n])return o[n].exports;var a=o[n]={exports:{},id:n,loaded:!1};return e[n].call(a.exports,a,a.exports,t),a.loaded=!0,a.exports}var o={};return t.m=e,t.c=o,t.p='',t(0)}([function(e,t){function o(e){if(Array.isArray(e)){for(var t=0,o=Array(e.length);t<e.length;t++)o[t]=e[t];return o}return Array.from(e)}function n(){return!!('undefined'!=typeof window&&window.history&&window.history.pushState)}function a(e,t,o){this.root=null,this._routes=[],this._useHash=t,this._hash='undefined'==typeof o?'#':o,this._paused=!1,this._destroyed=!1,this._lastRouteResolved=null,this._notFoundHandler=null,this._defaultHandler=null,this._usePushState=!t&&n(),this._onLocationChange=this._onLocationChange.bind(this),this._genericHooks=null,this._historyAPIUpdateMethod='pushState',e?this.root=t?e.replace(/\/$/,'/'+this._hash):e.replace(/\/$/,''):t&&(this.root=this._cLoc().split(this._hash)[0].replace(/\/$/,'/'+this._hash)),this._listen(),this.updatePageLinks()}function i(e){return e instanceof RegExp?e:e.replace(/\/+$/,'').replace(/^\/+/,'^/')}function r(e,t){return 0===t.length?null:e?e.slice(1,e.length).reduce(function(e,o,n){return null===e&&(e={}),e[t[n]]=decodeURIComponent(o),e},null):null}function s(e){var t,o=[];return t=e instanceof RegExp?e:new RegExp(e.replace(a.PARAMETER_REGEXP,function(e,t,n){return o.push(n),a.REPLACE_VARIABLE_REGEXP}).replace(a.WILDCARD_REGEXP,a.REPLACE_WILDCARD)+a.FOLLOWED_BY_SLASH_REGEXP,a.MATCH_REGEXP_FLAGS),{regexp:t,paramNames:o}}function d(e){return e.replace(/\/$/,'').split('/').length}function l(e,t){return d(t)-d(e)}function c(e){var t=1<arguments.length&&arguments[1]!==void 0?arguments[1]:[];return t.map(function(t){var o=s(i(t.route)),n=o.regexp,a=o.paramNames,d=e.replace(/^\/+/,'/').match(n),l=r(d,a);return!!d&&{match:d,route:t,params:l}}).filter(function(e){return e})}function h(e,t){return c(e,t)[0]||!1}function u(e,t){var o=t.map(function(t){return''===t.route||'*'===t.route?e:e.split(new RegExp(t.route+'($|/)'))[0]}),n=i(e);if(1<o.length)return o.reduce(function(e,t){return e.length>t.length&&(e=t),e},o[0]);return 1===o.length?o[0]:n}function p(){return!!('undefined'!=typeof window&&'onhashchange'in window)}function g(e){return e.split(/\?(.*)?$/).slice(1).join('')}function f(e,t,o){var a,i=e,r=function(e){return e.split(/\?(.*)?$/)[0]};return'undefined'==typeof o&&(o='#'),n()&&!t?i=r(e).split(o)[0]:(a=e.split(o),i=1<a.length?r(a[1]):r(a[0])),i}function v(e,t,o){return t&&'object'===('undefined'==typeof t?'undefined':m(t))?void(t.before?t.before(function(){var n=0<arguments.length&&void 0!==arguments[0]?arguments[0]:!0;n&&(e(),t.after&&t.after(o))},o):t.after&&(e(),t.after&&t.after(o))):void e()}function x(e,t,o){if(n()&&!t)return!1;if(!e.match(o))return!1;var a=e.split(o);return 2>a.length||''===a[1]}Object.defineProperty(t,'__esModule',{value:!0});var m='function'==typeof Symbol&&'symbol'==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&'function'==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?'symbol':typeof e};a.prototype={helpers:{match:h,root:u,clean:i,getOnlyURL:f},navigate:function(e,t){var o;return e=e||'',this._usePushState?(o=(t?'':this._getRoot()+'/')+e.replace(/^\/+/,'/'),o=o.replace(/([^:])(\/{2,})/g,'$1/'),history[this._historyAPIUpdateMethod]({},'',o),this.resolve()):'undefined'!=typeof window&&(e=e.replace(new RegExp('^'+this._hash),''),window.location.href=window.location.href.replace(/#$/,'').replace(new RegExp(this._hash+'.*$'),'')+this._hash+e),this},on:function(){for(var e=this,t=arguments.length,o=Array(t),n=0;n<t;n++)o[n]=arguments[n];if('function'==typeof o[0])this._defaultHandler={handler:o[0],hooks:o[1]};else if(2<=o.length){if('/'===o[0]){var a=o[1];'object'===m(o[1])&&(a=o[1].uses),this._defaultHandler={handler:a,hooks:o[2]}}else this._add(o[0],o[1],o[2]);}else if('object'===m(o[0])){var i=Object.keys(o[0]).sort(l);i.forEach(function(t){e.on(t,o[0][t])})}return this},off:function(e){return null!==this._defaultHandler&&e===this._defaultHandler.handler?this._defaultHandler=null:null!==this._notFoundHandler&&e===this._notFoundHandler.handler&&(this._notFoundHandler=null),this._routes=this._routes.reduce(function(t,o){return o.handler!==e&&t.push(o),t},[]),this},notFound:function(e,t){return this._notFoundHandler={handler:e,hooks:t},this},resolve:function(e){var t,n,a=this,i=(e||this._cLoc()).replace(this._getRoot(),'');this._useHash&&(i=i.replace(new RegExp('^/'+this._hash),'/'));var r=g(e||this._cLoc()),s=f(i,this._useHash,this._hash);return!this._paused&&(this._lastRouteResolved&&s===this._lastRouteResolved.url&&r===this._lastRouteResolved.query?(this._lastRouteResolved.hooks&&this._lastRouteResolved.hooks.already&&this._lastRouteResolved.hooks.already(this._lastRouteResolved.params),!1):(n=h(s,this._routes),n)?(this._callLeave(),this._lastRouteResolved={url:s,query:r,hooks:n.route.hooks,params:n.params,name:n.route.name},t=n.route.handler,v(function(){v(function(){n.route.route instanceof RegExp?t.apply(void 0,o(n.match.slice(1,n.match.length))):t(n.params,r)},n.route.hooks,n.params,a._genericHooks)},this._genericHooks,n.params),n):this._defaultHandler&&(''===s||'/'===s||s===this._hash||x(s,this._useHash,this._hash))?(v(function(){v(function(){a._callLeave(),a._lastRouteResolved={url:s,query:r,hooks:a._defaultHandler.hooks},a._defaultHandler.handler(r)},a._defaultHandler.hooks)},this._genericHooks),!0):(this._notFoundHandler&&v(function(){v(function(){a._callLeave(),a._lastRouteResolved={url:s,query:r,hooks:a._notFoundHandler.hooks},a._notFoundHandler.handler(r)},a._notFoundHandler.hooks)},this._genericHooks),!1))},destroy:function(){this._routes=[],this._destroyed=!0,clearTimeout(this._listeningInterval),'undefined'!=typeof window&&(window.removeEventListener('popstate',this._onLocationChange),window.removeEventListener('hashchange',this._onLocationChange))},updatePageLinks:function(){var t=this;'undefined'==typeof document||this._findLinks().forEach(function(o){o.hasListenerAttached||(o.addEventListener('click',function(n){var e=t.getLinkPath(o);t._destroyed||(n.preventDefault(),t.navigate(e.replace(/\/+$/,'').replace(/^\/+/,'/')))}),o.hasListenerAttached=!0)})},generate:function(e){var t=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{},o=this._routes.reduce(function(o,n){if(n.name===e)for(var a in o=n.route,t)o=o.toString().replace(':'+a,t[a]);return o},'');return this._useHash?this._hash+o:o},link:function(e){return this._getRoot()+e},pause:function(){var e=0<arguments.length&&arguments[0]!==void 0?arguments[0]:!0;this._paused=e,this._historyAPIUpdateMethod=e?'replaceState':'pushState'},resume:function(){this.pause(!1)},historyAPIUpdateMethod:function(e){return'undefined'==typeof e?this._historyAPIUpdateMethod:(this._historyAPIUpdateMethod=e,e)},disableIfAPINotAvailable:function(){n()||this.destroy()},lastRouteResolved:function(){return this._lastRouteResolved},getLinkPath:function(e){return e.pathname||e.getAttribute('href')},hooks:function(e){this._genericHooks=e},_add:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null,o=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;return'string'==typeof e&&(e=encodeURI(e)),'object'===('undefined'==typeof t?'undefined':m(t))?this._routes.push({route:e,handler:t.uses,name:t.as,hooks:o||t.hooks}):this._routes.push({route:e,handler:t,hooks:o}),this._add},_getRoot:function(){return null===this.root?(this.root=u(this._cLoc().split('?')[0],this._routes),this.root):this.root},_listen:function(){var e=this;if(this._usePushState)window.addEventListener('popstate',this._onLocationChange);else if(p())window.addEventListener('hashchange',this._onLocationChange);else{var t,o,n=this._cLoc();o=function(){t=e._cLoc(),n!==t&&(n=t,e.resolve()),e._listeningInterval=setTimeout(o,200)},o()}},_cLoc:function(){return'undefined'==typeof window?'':'undefined'==typeof window.__NAVIGO_WINDOW_LOCATION_MOCK__?i(window.location.href):window.__NAVIGO_WINDOW_LOCATION_MOCK__},_findLinks:function(){return[].slice.call(document.querySelectorAll('[data-navigo]'))},_onLocationChange:function(){this.resolve()},_callLeave:function(){this._lastRouteResolved&&this._lastRouteResolved.hooks&&this._lastRouteResolved.hooks.leave&&this._lastRouteResolved.hooks.leave()}},a.PARAMETER_REGEXP=/([:*])(\w+)/g,a.WILDCARD_REGEXP=/\*/g,a.REPLACE_VARIABLE_REGEXP='([^/]+)',a.REPLACE_WILDCARD='(?:.*)',a.FOLLOWED_BY_SLASH_REGEXP='(?:/$|$)',a.MATCH_REGEXP_FLAGS='',t.default=a,e.exports=t['default']}])})},function(e,t,o){'use strict';var n=o(62),a=function(e){return e&&e.__esModule?e:{default:e}}(n);class i extends HTMLElement{static get is(){return'menu-item'}static get template(){return`
            <style>${a.default}</style>
            <custom-icon></custom-icon>
            <slot></slot>
        `}constructor(){super(),this.attachShadow({mode:'open'}),this.shadowRoot.innerHTML=this.constructor.template}connectedCallback(){}disconnectedCallback(){}attributeChangedCallback(e){if('icon'===e&&this.icon){const e=this.shadowRoot.querySelector('custom-icon');e.icon=this.icon}}static get observedAttributes(){return['pressed','disabled','icon']}set icon(e){this.setAttribute('icon',e)}get icon(){return this.getAttribute('icon')}set pressed(e){!!e?this.setAttribute('pressed',''):this.removeAttribute('pressed')}get pressed(){return this.hasAttribute('pressed')}set disabled(e){!!e?this.setAttribute('disabled',''):this.removeAttribute('disabled')}get disabled(){return this.hasAttribute('disabled')}}window.customElements.define(i.is,i)},function(e,t,o){var n=o(63);e.exports='string'==typeof n?n:n.toString()},function(e,t,o){t=e.exports=o(0)(void 0),t.push([e.i,':host {\r\n\tposition: relative;\r\n\tdisplay: flex;\r\n\talign-items: center;\r\n\tmin-height: 48px;\r\n\tpadding: 12px 16px;\r\n\tfont-size: 14px;\r\n\tfont-weight: 500;\r\n\tline-height: 20px;\r\n\tcolor: var(--primary-text-color);\r\n\ttransition: background-color .3s ease;\r\n\tbox-sizing: border-box;\r\n\tcursor: pointer;\r\n\tuser-select: none;\r\n}\r\n\r\n:host(:hover),\r\n:host(:focus) {\r\n\tbackground-color: #f5f5f5;\r\n}\r\n\r\n:host([disabled]) {\r\n\tcolor: var(--disabled-text-color);\r\n\tpointer-events: none;\r\n}\r\n\r\n:host([icon]) {\r\n\tpadding-left: 72px;\r\n}\r\n\r\ncustom-icon {\r\n\tdisplay: none;\r\n}\r\n\r\n:host([disabled]) custom-icon {\r\n\topacity: .5;\r\n}\r\n\r\n:host([icon]) custom-icon {\r\n\tposition: absolute;\r\n\ttop: 12px;\r\n\tleft: 16px;\r\n\tdisplay: block;\r\n\tcolor: var(--secondary-text-color);\r\n}',''])},function(e,t,o){'use strict';var n=o(65),a=function(e){return e&&e.__esModule?e:{default:e}}(n);class i extends HTMLElement{static get is(){return'menu-list'}static get template(){return`
            <style>${a.default}</style>
            <slot></slot>
        `}constructor(){super(),this.attachShadow({mode:'open'}),this.shadowRoot.innerHTML=this.constructor.template}connectedCallback(){}disconnectedCallback(){}attributeChangedCallback(){}static get observedAttributes(){}}window.customElements.define(i.is,i)},function(e,t,o){var n=o(66);e.exports='string'==typeof n?n:n.toString()},function(e,t,o){t=e.exports=o(0)(void 0),t.push([e.i,':host {\r\n\tposition: relative;\r\n\tdisplay: block;\r\n\tpadding-top: 8px;\r\n\tpadding-bottom: 8px;\r\n}\r\n\r\n::slotted(.title) {\r\n\theight: 48px;\r\n\tmargin: 0;\r\n\tpadding: 0 16px;\r\n\tfont-size: 14px;\r\n\tfont-weight: 500;\r\n\tline-height: 48px;\r\n\ttext-overflow: ellipsis;\r\n\twhite-space: nowrap;\r\n\toverflow: hidden;\r\n\tcolor: var(--secondary-text-color);\r\n}\r\n\r\n::slotted(hr) {\r\n\tmargin: 4px 0;\r\n\tborder-top: 1px solid var(--divider-color);\r\n\tborder-bottom: none;\r\n}',''])}]);